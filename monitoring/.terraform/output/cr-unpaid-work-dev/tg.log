[0m[1mdata.terraform_remote_state.ec2: Refreshing state...[0m
[0m[1mdata.terraform_remote_state.vpc: Refreshing state...[0m
[0m[1mdata.template_file.notify_slack_alarm_lambda_file: Refreshing state... [id=35df85f493ab444890d179228fd5b7a08ccdca66360409fcab83a18da72ee2e4][0m
[0m[1mdata.terraform_remote_state.common: Refreshing state...[0m
[0m[1mdata.template_file.cporacle_lambda_exec_role: Refreshing state... [id=55d8020ee7376cac869856d710ae68eab3856436788270b95e136501a3b1f6c5][0m
[0m[1mdata.archive_file.alarm_lambda_handler_zip: Refreshing state... [id=b32c095c247760ca9e27d1d1f726098316d3d9e0][0m
[0m[1mnull_resource.cporacle_notify_slack_alarm_rendered: Refreshing state... [id=6327443692477618043][0m
[0m[1mdata.aws_caller_identity.current: Refreshing state... [id=2021-05-17 14:45:25.480681484 +0000 UTC][0m
[0m[1mdata.aws_iam_policy_document.lambda_assume_role_policy: Refreshing state... [id=3693445097][0m
[0m[1maws_iam_policy.cporacle_lambda_exec_role: Refreshing state... [id=arn:aws:iam::964150688482:policy/cporacle_lambda_exec_role_policy][0m
[0m[1maws_sns_topic.cporacle_alarm_notification: Refreshing state... [id=arn:aws:sns:eu-west-2:964150688482:cr-unpaid-work-dev-cporacle-alarm-notification][0m
[0m[1maws_iam_role.cporacle_lambda_exec_role: Refreshing state... [id=cporacle_lambda_exec_role][0m
[0m[1maws_cloudwatch_metric_alarm.cporacle_api_cloudwatch_agent_log_critical: Refreshing state... [id=cr-unpaid-work-dev-cporacle_api-cloudwatch_agent_log--critical][0m
[0m[1maws_cloudwatch_metric_alarm.cporacle_web_cloudwatch_agent_log_warning: Refreshing state... [id=cr-unpaid-work-dev-cporacle_web-cloudwatch_agent_log--warning][0m
[0m[1maws_cloudwatch_metric_alarm.cporacle_web_cloudwatch_agent_log_critical: Refreshing state... [id=cr-unpaid-work-dev-cporacle_web-cloudwatch_agent_log--critical][0m
[0m[1maws_cloudwatch_metric_alarm.cporacle_api_cloudwatch_agent_log_warning: Refreshing state... [id=cr-unpaid-work-dev-cporacle_api-cloudwatch_agent_log--warning][0m
[0m[1maws_lambda_function.notify_slack_alarm: Refreshing state... [id=cr-unpaid-work-dev-notify-cporacle-slack-channel-alarm][0m
[0m[1maws_sns_topic_subscription.cporacle_alarm_subscription: Refreshing state... [id=arn:aws:sns:eu-west-2:964150688482:cr-unpaid-work-dev-cporacle-alarm-notification:f4dc8a5d-dd0c-4307-8074-4662eb3ecdad][0m
[0m[1maws_lambda_permission.sns_alarm: Refreshing state... [id=AllowExecutionFromSNS][0m
[0m[1maws_iam_role_policy_attachment.cporacle_lambda_exec_role: Refreshing state... [id=cporacle_lambda_exec_role-20210517143850864600000001][0m

An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  [32m+[0m create
[0m
Terraform will perform the following actions:

[1m  # aws_cloudwatch_log_metric_filter.cporacle_api_cloudwatch_agent_log_count[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_cloudwatch_log_metric_filter" "cporacle_api_cloudwatch_agent_log_count" {
      [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)
      [32m+[0m [0m[1m[0mlog_group_name[0m[0m = "cr-unpaid-work-dev/cporacle/amazon-cloudwatch-agent.log"
      [32m+[0m [0m[1m[0mname[0m[0m           = "CPOracleAPICloudwatchAgentErrorLogEventSum"

      [32m+[0m [0mmetric_transformation {
          [32m+[0m [0m[1m[0mdefault_value[0m[0m = "0"
          [32m+[0m [0m[1m[0mname[0m[0m          = "CPOracleAPICloudwatchAgentErrorLogEventSum"
          [32m+[0m [0m[1m[0mnamespace[0m[0m     = "cporacle_api"
          [32m+[0m [0m[1m[0mvalue[0m[0m         = "1"
        }
    }

[1m  # aws_cloudwatch_log_metric_filter.cporacle_web_cloudwatch_agent_log_count[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "aws_cloudwatch_log_metric_filter" "cporacle_web_cloudwatch_agent_log_count" {
      [32m+[0m [0m[1m[0mid[0m[0m             = (known after apply)
      [32m+[0m [0m[1m[0mlog_group_name[0m[0m = "cr-unpaid-work-dev/cporacle/amazon-cloudwatch-agent.log"
      [32m+[0m [0m[1m[0mname[0m[0m           = "CPOracleWebCloudwatchAgentErrorLogEventSum"

      [32m+[0m [0mmetric_transformation {
          [32m+[0m [0m[1m[0mdefault_value[0m[0m = "0"
          [32m+[0m [0m[1m[0mname[0m[0m          = "cr-unpaid-work-dev/cporacle/amazon-cloudwatch-agent.log"
          [32m+[0m [0m[1m[0mnamespace[0m[0m     = "cporacle_web"
          [32m+[0m [0m[1m[0mvalue[0m[0m         = "1"
        }
    }

[0m[1mPlan:[0m 2 to add, 0 to change, 0 to destroy.[0m

[33m
[1m[33mWarnings:[0m

[0m- Value for undeclared variable
- Value for undeclared variable
- Value for undeclared variable
- Values for undeclared variables

To see the full warning notes, run Terraform without -compact-warnings.
[0m[0m
[0m[1mDo you want to perform these actions?[0m
  Terraform will perform the actions described above.
  Only 'yes' will be accepted to approve.

  [1mEnter a value:[0m [0m
[0m[1maws_cloudwatch_log_metric_filter.cporacle_api_cloudwatch_agent_log_count: Creating...[0m[0m
[0m[1maws_cloudwatch_log_metric_filter.cporacle_web_cloudwatch_agent_log_count: Creating...[0m[0m
[0m[1maws_cloudwatch_log_metric_filter.cporacle_web_cloudwatch_agent_log_count: Creation complete after 0s [id=CPOracleWebCloudwatchAgentErrorLogEventSum][0m[0m
[0m[1maws_cloudwatch_log_metric_filter.cporacle_api_cloudwatch_agent_log_count: Creation complete after 1s [id=CPOracleAPICloudwatchAgentErrorLogEventSum][0m[0m
[0m[1m[32m
Apply complete! Resources: 2 added, 0 changed, 0 destroyed.[0m
